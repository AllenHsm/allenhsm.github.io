<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Allen&#39;s Blog</title>
    <link>http://allenhsm.github.io/</link>
    <description>Recent content on Allen&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>This is a customized copyright.</copyright>
    <lastBuildDate>Fri, 28 Nov 2025 00:04:22 -0500</lastBuildDate>
    
        <atom:link href="http://allenhsm.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>IaC &amp; Terraform</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/terraform/</link>
        <pubDate>Fri, 28 Nov 2025 00:04:22 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/terraform/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/terraform/ -&lt;h1 id=&#34;infrastructure-as-code&#34;&gt;Infrastructure as Code&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Definition&lt;/strong&gt;: Write and execute code to define, deploy update, and destroy our infra.&lt;/li&gt;
&lt;li&gt;Why we automate deployment? reliable, efficient, repeatable, safe releases, multiple environment, maximum scalability&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;types-of-iac-tools&#34;&gt;Types of IaC tools&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/types_of_iac.png&#34;
         alt=&#34;IaC Tools&#34; width=&#34;50%&#34;/&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;ad-hoc-scripts&#34;&gt;Ad-hoc Scripts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;easiest&lt;/strong&gt; and most straightforward approach of automating anything&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ad-hoc tools&lt;/strong&gt; run on single core tool, like cloud shell, which connects to a VM with only 5GB storage space, if you need more, you have to upload the file to cloud bucket or sth, and use the shell to read from it.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;examples&lt;/strong&gt; : Bash, Ruby, Perl&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;configuration-management-tools&#34;&gt;Configuration Management Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Designed to install and manage software on existing servers.&lt;/li&gt;
&lt;li&gt;These tools offer coding conventions and ability to run scripts on multiple servers.&lt;/li&gt;
&lt;li&gt;ansible assumes the multiple servers that you use work in completely the same way with same hard tool structure. In these cases, even though the servers are of the same, some external small errors, like a sudden network error, cause the machines to diverge in some way, like having different file system structure.&lt;/li&gt;
&lt;li&gt;Examples: Chef, Puppet and Ansible.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;server-templating-tools&#34;&gt;Server Templating Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The idea of server templating tools is to create an image of a server that captures a fully self-contained “snapshot” of the operating system (OS), the software, the files, and all other relevant details.&lt;/li&gt;
&lt;li&gt;Examples: Docker, Packer, Vagrant&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;provisioning-tools&#34;&gt;Provisioning Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Most &lt;strong&gt;advanced&lt;/strong&gt; IaC tools.&lt;/li&gt;
&lt;li&gt;Provisioning tools are responsible for &lt;strong&gt;creating&lt;/strong&gt; these servers, rather than running software or scripts on top of existing servers like other categories.&lt;/li&gt;
&lt;li&gt;You can use provisioning tools to create databases, caches, load balancers, queues, network configurations and SSL certificates.&lt;/li&gt;
&lt;li&gt;Examples: Terraform, CloudFormation, OpenStack Heat, and Pulumi, actively deal with hardware&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;orchestration-tools&#34;&gt;Orchestration Tools&lt;/h3&gt;
&lt;p&gt;We mentioned previously. Orchestration tools are responsible for managing the lifecycle of containers, including deployment, scaling, and networking.&lt;/p&gt;
&lt;h2 id=&#34;iac-tool-comparison&#34;&gt;IaC Tool Comparison&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/iac_comparison.png&#34;
         alt=&#34;IaC Tool Comparison&#34; width=&#34;100%&#34;/&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;mutable-vs-_immutable_&#34;&gt;Mutable vs. &lt;em&gt;&lt;strong&gt;Immutable&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Mutable&lt;/strong&gt;: Configuration management tools (e.g., chef, puppet) default to a mutable infrastructure paradigm.
&lt;ul&gt;
&lt;li&gt;like ansible &amp;amp; chef where there is possible mutation to the softwares like the network error mentioned above that causes the infra to diverge between machines.&lt;/li&gt;
&lt;li&gt;Over time, each server becomes slightly different than all the others, leading to subtle configuration bugs that are &lt;strong&gt;difficult to diagnose and reproduce.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Immutable&lt;/strong&gt; infrastructure tools don’t allow this deviation to happen.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;declarative-vs-procedural&#34;&gt;&lt;em&gt;&lt;strong&gt;Declarative&lt;/strong&gt;&lt;/em&gt; vs. Procedural&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;In &lt;strong&gt;Procedural&lt;/strong&gt; scripting style, developers will code the application flow in step-by-step commands that does not care about the outcome or the final state, but just complete the preset steps. e.g. chef and ansible&lt;/li&gt;
&lt;li&gt;In &lt;strong&gt;Declarative&lt;/strong&gt; scripting style, developers will write code that specifies their desired end state, and the IaC tool itself is responsible for figuring out how to achieve that state.
&lt;ul&gt;
&lt;li&gt;e.g. 5 servers, 3 firewall connections, 1 SSL certificate, IaC tool is responsible for figuring out how to achieve these goals. E.g. Terraform, CloudFormation (provisioning), puppet(config management)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;general-purpose-vs-domain-specific&#34;&gt;&lt;em&gt;&lt;strong&gt;General Purpose&lt;/strong&gt;&lt;/em&gt; vs. Domain-specific&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DSLs&lt;/code&gt; are designed for use in &lt;strong&gt;one specific domain&lt;/strong&gt;, whereas &lt;code&gt;GPLs&lt;/code&gt; can be used across a &lt;strong&gt;broad range of domains&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GPL&lt;/code&gt; Examples: Chef supports Ruby; Pulumi supports a wide variety of GPLs, including JavaScript, TypeScript, Python, Go, C#, Java, and others.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DSL&lt;/code&gt; Examples: Terraform uses HCL; Puppet uses Puppet Language; Ansible, CloudFormation, and OpenStack Heat use YAML (CloudFormation also supports JSON).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;master-vs-masterless&#34;&gt;Master vs. &lt;em&gt;&lt;strong&gt;Masterless&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;In &lt;strong&gt;Master-centered&lt;/strong&gt; infrastructure tools, you should &lt;strong&gt;dedicate a server&lt;/strong&gt; to run the IaC tool (e.g., Chef, Puppet).
&lt;ul&gt;
&lt;li&gt;Every time you want to update something in your infra, you use a client (e.g., a command-line tool) to issue new commands to the master server, and the master server either pushes the updates out to all the other servers or those servers pull the latest updates down from the master server on a regular basis.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;In &lt;strong&gt;masterless&lt;/strong&gt; infrastructure tools, tools don’t require a Master or rely on a master server that is part of the existing infra.
&lt;ul&gt;
&lt;li&gt;For example, Terraform communicates with cloud providers using the cloud provider’s APIs, so in some sense, the API servers are master servers, except that they don’t require any extra infrastructure or any extra authentication mechanisms (i.e., just use your API keys).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;agent-k8s-vs-agentless&#34;&gt;Agent (k8s) vs. &lt;em&gt;&lt;strong&gt;Agentless&lt;/strong&gt;&lt;/em&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Some IaC tools require the installation of agent software on each node you need to configure. The agent typically runs in the background on each server and is responsible for installing the latest configuration management updates.
&lt;ul&gt;
&lt;li&gt;This introduces a security concern since you need to open the outbound port for the agent to communicate with the master server&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;community-support&#34;&gt;Community Support&lt;/h3&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/iac_community_support.png&#34;
         alt=&#34;IaC Community Support&#34; width=&#34;40%&#34;/&gt;
&lt;/figure&gt;

&lt;h1 id=&#34;terraform&#34;&gt;Terraform&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;An open-source IaC provisioning tool created by HashiCorp and written in GO Lang.&lt;/li&gt;
&lt;li&gt;script automatically detects the environment it is running on (GCP, AWS, etc) and install the corresponding libraries and use a hash map to map the compatible APIs.&lt;/li&gt;
&lt;li&gt;Good readability, can deploy to K8s, declarative, paves the way for massive scalability, Management of infrastructure will be automated, Source of truth for the infra&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hashicorp-configuration-language-hcl&#34;&gt;HashiCorp Configuration Language (HCL)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;The most basic construct is called a &lt;code&gt;block&lt;/code&gt;, defined as a “container for other content”.&lt;/li&gt;
&lt;li&gt;The body of the block is nested with {}&lt;/li&gt;
&lt;li&gt;Each block has a type (e.g., resource)&lt;/li&gt;
&lt;li&gt;Each block is identified using labels, the number of labels is identified based on the block type&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;block-types&#34;&gt;Block types&lt;/h3&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/terraform_block_types.png&#34;
         alt=&#34;Terraform Block Types&#34; width=&#34;90%&#34;/&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Resource block&lt;/strong&gt;: most popular; to &lt;strong&gt;create components&lt;/strong&gt; of your infra, like VM instances, databases, and networking components.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Provider block&lt;/strong&gt;: to define the &lt;strong&gt;cloud provider&lt;/strong&gt; (e.g., AWS, GCP, Azure) that you want to use to host and deploy your resources. Terraform decides which mapping table to download based on the cloud provider.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Variable block&lt;/strong&gt;: to define &lt;strong&gt;input variables&lt;/strong&gt; that can be used to parameterize your Terraform configuration.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Output block&lt;/strong&gt;: exposes information about specific resources created in your configuration.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Provisioner&lt;/strong&gt;: To execute a script &lt;strong&gt;after your resources have been created&lt;/strong&gt;. It waits for your service to be deployed successfully and then run some codes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Local&lt;/strong&gt;: To create local variables within a specific resource block&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;workflow&#34;&gt;Workflow&lt;/h2&gt;
&lt;p&gt;A basic Terraform workflow consists of the following two steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Initialization&lt;/strong&gt;: using &lt;code&gt;terraform init&lt;/code&gt;. Install libraries, binaries executable, for the providers that you have listed in your code. The mapping tables, provider apis, etc. All stored in &lt;code&gt;.terraform&lt;/code&gt; folder.
&lt;ul&gt;
&lt;li&gt;You must initialize Terraform every time you write a new configuration file.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Execution&lt;/strong&gt;.
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Plan&lt;/strong&gt;: a log file stored in CI/CD pipeline, keep track what will happen by comparing what we currently have and what we will do (add, delete, change in the current infrastructure).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Apply&lt;/strong&gt;: Once you have confirmed that the plan does what you intended, then execute the plan and Terraform will provision the cloud resources.&lt;/li&gt;
&lt;li&gt;destroy: to remove all resources created by Terraform. Don’t do it by yourself. 解铃还须系铃人&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;naming-conventions&#34;&gt;Naming conventions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Terraform does &lt;strong&gt;not care about filenames&lt;/strong&gt;. It combines all files with the &lt;code&gt;.tf&lt;/code&gt; extension and then creates an execution plan using all the configurations.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;provider.tf&lt;/code&gt;: contains the provider block declaring provider, which is a translation layer between Terraform and the external API of the provider.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;variables.tf&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;create all the input global variables you required in your project.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Variables are referenced using the &lt;code&gt;var.&amp;lt;variable_name&amp;gt;&lt;/code&gt;&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;When &lt;em&gt;apply&lt;/em&gt; it will scan our code to identify what variables or parameters are missing.&lt;/li&gt;
&lt;li&gt;You can create default values in &lt;em&gt;terraform.tfvars&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startup.sh&lt;/code&gt;: a bash script that will be executed after the resource is created.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;outputs.tf&lt;/code&gt;: contains all the output blocks that expose information about specific resources created in your configuration.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;main.tf&lt;/code&gt;: contains all the resource blocks that define the actual components of your infrastructure. Actual creation of the resource blocks.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;: There are multiple ways to assign a value to a variable, either through a default value in the declaration or pass it as a value either interactively or via the command-line flag. One common way is to create a file named &lt;code&gt;terraform.tfvars&lt;/code&gt; that contains the variable assignments. You can then use them as &lt;code&gt;var.&amp;lt;variable_name&amp;gt;&lt;/code&gt; in your code.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;configuration-structure&#34;&gt;Configuration Structure&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/terraform_configuration_structure.png&#34;
         alt=&#34;Terraform File Structure&#34; width=&#34;60%&#34;/&gt;
&lt;/figure&gt;

- http://allenhsm.github.io/tech/cloud_infra_basics/terraform/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Apache Kafka</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/apache_kafka/</link>
        <pubDate>Tue, 25 Nov 2025 22:10:31 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/apache_kafka/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/apache_kafka/ -&lt;h1 id=&#34;why-kafka&#34;&gt;Why Kafka?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Problem of Request-Response Architecture:&lt;/strong&gt; Kubernetes offers the ability to (de)scale your applications to respond to user requests in a meaningful amount of time.
&lt;ul&gt;
&lt;li&gt;Process of request-response architecture:
&lt;ul&gt;
&lt;li&gt;user sends a request to your application&lt;/li&gt;
&lt;li&gt;k8s master reroutes the request to an available pod,&lt;/li&gt;
&lt;li&gt;not enough pods&lt;/li&gt;
&lt;li&gt;HPA&lt;/li&gt;
&lt;li&gt;Still not enough&lt;/li&gt;
&lt;li&gt;VPA&lt;/li&gt;
&lt;li&gt;more requests&lt;/li&gt;
&lt;li&gt;Connection timeout&lt;/li&gt;
&lt;li&gt;Interruption&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;If the number of user requests continue to increase beyond your K8s cluster resources, 1) your k8s master won&amp;rsquo;t have enough memory or processing power to reroute the incoming traffic, or 2) there are no available pods to process requests, and no more pods can be created.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Solution: message queues:&lt;/strong&gt; Kafka acts as a buffer between user requests and your application to avoid message drop &amp;amp; timeout problems. It is a &lt;strong&gt;scalable&lt;/strong&gt; message queue with &lt;strong&gt;publish-subscribe&lt;/strong&gt; software support that offers &lt;strong&gt;distributed&lt;/strong&gt; &lt;strong&gt;streaming processing&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;digression-1-publish-subscribe-model&#34;&gt;Digression 1: Publish-Subscribe Model&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/publish_subscribe.png&#34;
         alt=&#34;publish-subscribe models&#34; width=&#34;95%&#34;/&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;Model 1 → &lt;strong&gt;Kafka&lt;/strong&gt;: Sub A and B get the same message from the topic they subscribed to. They get the full copy by default. (topic-based pub-sub model)&lt;/li&gt;
&lt;li&gt;Model 4 → &lt;strong&gt;Active MQ&lt;/strong&gt;: Load balancing, traffic distribution, such that if messages A and B are sent, then Worker A only gets A, worker B only gets B. (queue-based/broker-mediated model)&lt;/li&gt;
&lt;li&gt;Model 2 → &lt;strong&gt;JMS, AWS Event Bridge&lt;/strong&gt;: Subscribers find the condition / set the filters in the queue such that the subs define the rules on how they get the data. The queue is like a pool, does not categorize the messages into categories. Broker applies the subscribers’ rules on every msg. (content-based pub-sub model)&lt;/li&gt;
&lt;li&gt;Model 3 → &lt;strong&gt;Kafka combined with KSQL&lt;/strong&gt;: Hybrid version combining 1 and 2. (topic+content)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ranking&#34;&gt;Ranking&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Scalability: Best: &lt;strong&gt;Topic based&lt;/strong&gt;, worst: queue based&lt;/li&gt;
&lt;li&gt;Speed: Best: &lt;strong&gt;topic based&lt;/strong&gt;, worst: content-based&lt;/li&gt;
&lt;li&gt;Flexibility: Best: content-based, worst: queue-based&lt;/li&gt;
&lt;li&gt;Therefore, topic based model is the most convenient&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;pub-sub-model-example&#34;&gt;Pub-sub model example&lt;/h3&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/pub_sub_model.png&#34;
         alt=&#34;pub-sub model example&#34; width=&#34;90%&#34;/&gt;
&lt;/figure&gt;

&lt;h1 id=&#34;apache-kafka&#34;&gt;Apache Kafka&lt;/h1&gt;
&lt;h2 id=&#34;advantages&#34;&gt;Advantages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;High throughput: can handle millions of messages per second (LinkedIn 3.2Million msgs/sec)&lt;/li&gt;
&lt;li&gt;High performance: uses in-memory writes and reads&lt;/li&gt;
&lt;li&gt;Fault tolerant: Kafka is highly available and resilient to node failures and supports automatic recovery.&lt;/li&gt;
&lt;li&gt;Elastically scalable, low operational overhead, durable, highly available&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;structure&#34;&gt;Structure&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/kafka_structure.png&#34;
         alt=&#34;kafka structure&#34; width=&#34;70%&#34;/&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;topics&#34;&gt;Topics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Is a particular stream of data. Is the &lt;strong&gt;unit of parallelism&lt;/strong&gt; in Apache Kafka.&lt;/li&gt;
&lt;li&gt;You can have as many topics as you want&lt;/li&gt;
&lt;li&gt;Identified by a name, divided into partitions&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;partitions&#34;&gt;Partitions&lt;/h3&gt;
&lt;p&gt;To enhance scalability, we create partitions to the topics, each piece sits in independent space in the memory, and we can have as many partitions as we want for the same topic. But if the producer write  messages into the same partition, we cannot guarantee the consumer to do the changes in the same order. So within the same partition, the messages are ordered through offset, but there is no order across partitions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Each partition is ordered&lt;/li&gt;
&lt;li&gt;Each message within a partition has an &lt;code&gt;offset&lt;/code&gt; (an incremental, unique id)&lt;/li&gt;
&lt;li&gt;To enable fault tolerance, we can get &lt;strong&gt;duplication of partition&lt;/strong&gt; in indifferent brokers.&lt;/li&gt;
&lt;li&gt;Each partition lives in an individual machine, called broker&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;brokers&#34;&gt;Brokers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A Kafka cluster is made up of multiple &lt;code&gt;brokers&lt;/code&gt; (servers)&lt;/li&gt;
&lt;li&gt;Each broker is identified by an id (integer)&lt;/li&gt;
&lt;li&gt;Each broker contains one or more partitions for one or more topics&lt;/li&gt;
&lt;li&gt;After connecting to any broker, you will be connected to the entire cluster (If i have the addr of B1, I also got the addr of B2, B3, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;producers&#34;&gt;Producers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Producers publish/write data to topics (which are made of partitions) while does not know which partition it will write to. Broker will deal with that&lt;/li&gt;
&lt;li&gt;Producers automatically know to which broker and partition they should write to&lt;/li&gt;
&lt;li&gt;In case of Broker failure, producers will automatically recover the failed broker&lt;/li&gt;
&lt;li&gt;Producers choose whether to receive an &lt;strong&gt;acknowledgment&lt;/strong&gt; of a successful write (&lt;code&gt;ack&lt;/code&gt;), and whether to send a &lt;strong&gt;key&lt;/strong&gt; with the message. If two msgs are sent with the same key, we can guarantee they will be sent to the same partition, even though we don&amp;rsquo;t know which partition it is.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;consumers&#34;&gt;Consumers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Consumers read data from a topic (identified by a topic name)&lt;/li&gt;
&lt;li&gt;Consumers know which broker to read from.&lt;/li&gt;
&lt;li&gt;In case of Broker failures, consumers know how to recover the failed broker.&lt;/li&gt;
&lt;li&gt;Data are read in order within each partition.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Consumer group&lt;/strong&gt;: a set of consumers that share and load-balance the partitions of a topic, ensuring each partition is consumed by &lt;strong&gt;exactly one&lt;/strong&gt; consumer in the group. Different groups consume &lt;strong&gt;independently&lt;/strong&gt;, so each group receives a full copy of the topic’s messages.&lt;/li&gt;
&lt;li&gt;Why &lt;code&gt;group.id&lt;/code&gt; helps:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Parallelism&lt;/strong&gt;: all consumers with the same group.id share the work of reading a topic, Each partition’s messages go to exactly one consumer in the group. Add more consumers to the group → partitions get redistributed → higher parallelism (up to number of partitions).&lt;/li&gt;
&lt;li&gt;At-least-once delivery/&lt;strong&gt;fault tolerance&lt;/strong&gt;: each consumer in the group keeps track of its read offsets. If a consumer crashes and restarts, it resumes reading from its last committed offset, ensuring no messages are missed.&lt;/li&gt;
&lt;li&gt;Multiple independent applications: Different groups consume &lt;strong&gt;independently&lt;/strong&gt;, so each group receives a full copy of the topic’s messages.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;zookeeper&#34;&gt;Zookeeper&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Connects Partition and OS adding ports or system calls to OS such that partition can interact with the memory, to write and read the memory.&lt;/li&gt;
&lt;li&gt;Manages and coordinates the brokers (keeps a list of them)&lt;/li&gt;
&lt;li&gt;Helps in performing election for partitions&lt;/li&gt;
&lt;li&gt;Sends notification to Kafka in case of changes (new broker added, broker failure, new topic, etc)&lt;/li&gt;
&lt;li&gt;An important component of Kafka.&lt;/li&gt;
&lt;li&gt;Causes the hardness of deploying Kafka as it is on the top of OS to build the communication, and enable the Kafka to run smoothly and directly in different platforms and OS.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;parallelism&#34;&gt;Parallelism&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A topic partition is the unit of parallelism in Kafka. Each partition can be hosted on a different broker (server) in the Kafka cluster.&lt;/li&gt;
&lt;li&gt;Producers and brokers:
&lt;ul&gt;
&lt;li&gt;Writes to different partitions can be done in parallel.&lt;/li&gt;
&lt;li&gt;Parallelism frees up hardware resources for operations like compression.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Consumers:
&lt;ul&gt;
&lt;li&gt;You can have up to one consumer instance per partition within a consumer group.&lt;/li&gt;
&lt;li&gt;Any additional consumers beyond the number of partitions will remain idle.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Kafka cluster: more partitions in a Kafka cluster lead to higher system throughput.&lt;/li&gt;
&lt;li&gt;Scalable partitioning: you can increase or decrease the number of partitions in a topic as your data volume and throughput requirements change over time.&lt;/li&gt;
&lt;li&gt;Keyed messages caution: exercise caution when messages are produced with keys, as they are deterministically assigned to partitions.&lt;/li&gt;
&lt;li&gt;Consistent routing: kafka ensures that messages with identical keys are consistently routed to the same partition, preserving the integrity of order-dependent applications.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;digression-2-microservices&#34;&gt;Digression 2: Microservices&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Divide a computation into small, mostly stateless components that can be: easily replicated for scale, communicate with simple protocols, computation is as a swarm of communicating workers.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Stateless&lt;/strong&gt;: each component does not store any state between requests. Each request is independent.&lt;/li&gt;
&lt;li&gt;In cloud, it typically runs as containers using a service deployment and management service on systems like: Amazon Elastic Container service, GKE, DCOS from Berkeley/Mesosphere, Docker Swarm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;digression-3-rest&#34;&gt;Digression 3: REST&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;provide an interface for distributed hypermedia systems, created by Roy Fielding in 2000&lt;/li&gt;
&lt;li&gt;The key abstraction of information in REST is a resource
&lt;ul&gt;
&lt;li&gt;Identified by a resource identifier, i.e. URI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Resources can be retrieved or transformed to another state by aset of methods:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GET/PUT(update) /POST (add)&lt;/strong&gt;/DELETE/PATCH (Update a lot of resources)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The clients and servers exchange representations of resources by using a standardized interface and protocol typically HTTP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka--mircroservices&#34;&gt;Kafka + Mircroservices&lt;/h2&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/kafka_microservices.png&#34;
         alt=&#34;kafka microservices&#34; width=&#34;100%&#34;/&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;code-example&#34;&gt;Code Example&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Producer example (Python):
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; socket
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; confluent_kafka &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Producer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Kafka settings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BROKER &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;localhost:9092&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;# Change this to your Kafka broker address&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TOPIC &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;simple_topic&amp;#39;&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;# Replace with your Kafka topic&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Function to create a Kafka Producer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;create_kafka_producer&lt;/span&gt;(broker):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    conf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;bootstrap.servers&amp;#39;&lt;/span&gt;: broker,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;client.id&amp;#39;&lt;/span&gt;: socket&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;gethostname()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Producer(conf)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; producer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;publish_simple_message&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; create_kafka_producer(BROKER)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;produce(TOPIC, key&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;, value&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yes, it&amp;#39;s me!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;flush()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; __name__ &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    publish_simple_message()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Consumer example - creation code:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Creation code&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; socket
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; confluent_kafka &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Producer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Kafka settings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;BROKER &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;localhost:9092&amp;#39;&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;# Change this to your Kafka broker address&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;TOPIC &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;simple_topic&amp;#39;&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;# Replace with your Kafka topic&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Function to create a Kafka Producer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;create_kafka_producer&lt;/span&gt;(broker):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    conf &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;bootstrap.servers&amp;#39;&lt;/span&gt;: broker,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;client.id&amp;#39;&lt;/span&gt;: socket&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;gethostname()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Producer(conf)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; producer
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;publish_simple_message&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; create_kafka_producer(BROKER)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;produce(TOPIC, key&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;, value&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yes, it&amp;#39;s me!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    producer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;flush()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; __name__ &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    publish_simple_message()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;Consumer example: poll loop
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Display data from Kafka&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;display_kafka_data&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    consumer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; create_kafka_consumer(BROKER, GROUP_ID, TOPIC)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;while&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        msg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; consumer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;poll(timeout&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1.0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; msg &lt;span style=&#34;color:#f92672&#34;&gt;is&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;None&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; msg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;error():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; msg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;error()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;code() &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; KafkaError&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;_PARTITION_EOF:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                print(msg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;error())
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#66d9ef&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        key &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; msg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;key()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;decode(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        value &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; msg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;value()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;decode(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# Display message with an icon&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;New Message Alert!!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        print(&lt;span style=&#34;color:#e6db74&#34;&gt;f&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Key: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;key&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt; and Value: &lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;{&lt;/span&gt;value&lt;span style=&#34;color:#e6db74&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    consumer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; __name__ &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    display_kafka_data()
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;confluent-kafka&#34;&gt;Confluent Kafka&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Since Handling Kafka requires managing low-level, complex data infrastructure, we have &lt;strong&gt;Confluent Kafka&lt;/strong&gt;. It is built on top of Apache Kafka to offer complete, fully managed, cloud-native data streaming that&amp;rsquo;s available wherever your data and applications reside.&lt;/li&gt;
&lt;/ul&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/apache_kafka/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Deployment Orchestration</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/deployment_orchestration/</link>
        <pubDate>Sun, 23 Nov 2025 21:01:28 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/deployment_orchestration/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/deployment_orchestration/ -&lt;h1 id=&#34;container-orchestration&#34;&gt;Container Orchestration&lt;/h1&gt;
&lt;p&gt;The &lt;strong&gt;automatic&lt;/strong&gt; process of managing or scheduling the work of individual containers for applications based on &lt;strong&gt;microservices&lt;/strong&gt; within &lt;strong&gt;multiple clusters&lt;/strong&gt;.
&lt;strong&gt;Orchestration tools&lt;/strong&gt;: Kubernetes, Docker Swarm, Apache Mesos, CoreOS rkt&lt;/p&gt;
&lt;h1 id=&#34;kubernetes&#34;&gt;Kubernetes&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;An open-source container management tool which automates container deployment, container (de)scaling, container load balancing&lt;/li&gt;
&lt;li&gt;Can group &amp;ldquo;n&amp;rdquo; number of containers into one logical unit called &amp;ldquo;&lt;strong&gt;POD&lt;/strong&gt;&amp;rdquo;, easy to manage and deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Automated bin packing&lt;/strong&gt;: via packaging software and automatically placing it/containers based on their resource requirements and other constraints, while not sacrificing availability. Mix critical and best-effort workloads in order to drive up utilization and save more resources.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Service Discovery and Load Balancing&lt;/strong&gt;: Using auto networking and load balancing configurations&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Storage Orchestration&lt;/strong&gt;: Automatically mount the storage system of your choice for the cluster, whether from local storage, a public cloud provider, or a network storage system such as NFS, iSCSI, GlusterFS.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Self Healing&lt;/strong&gt;: Automatically restarts containers that fail, replaces and reschedules containers when nodes die, kills containers that don&amp;rsquo;t respond to your user-defined health check, and doesn&amp;rsquo;t advertise them to clients until they are ready to serve.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Automated Rollouts and Rollbacks&lt;/strong&gt;: Progressively roll out changes to your application or its configuration, while monitoring application health to ensure it doesn&amp;rsquo;t kill all your instances at the same time. Making sure an update or rollback will not disrupt the ongoing traffic.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Secret and Configuration Management&lt;/strong&gt;: dDploy and update secrets and application configuration without rebuilding your image and without exposing secrets in your stack configuration.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Batch Execution&lt;/strong&gt;: In addition to services, Kubernetes can manage your batch and CI workloads.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Horizontal Scaling&lt;/strong&gt;: Scale your application up and down with a simple command, a UI, or automatically scaling based on CPU usage.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Infrastructure as Code&lt;/strong&gt;: Will discuss in later articles.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;k8s-architecture&#34;&gt;&lt;strong&gt;K8s Architecture&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/k8s_architecture.png&#34;
         alt=&#34;k8s architecture&#34; width=&#34;40%&#34;/&gt;
&lt;/figure&gt;

&lt;strong&gt;Simple version&lt;/strong&gt;: Master -&amp;gt; Nodes -&amp;gt; PODs -&amp;gt; Containers&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Master&lt;/strong&gt; controls the clusters and the nodes in it&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Nodes&lt;/strong&gt; host the group of containers called &lt;strong&gt;POD&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Containers&lt;/strong&gt; in a &lt;code&gt;POD&lt;/code&gt; run on the same node and share resources such as filesystems, kernel namespaces, and an IP address.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Replication Controller&lt;/strong&gt; at the &lt;code&gt;Master&lt;/code&gt; ensure that requested number of PODs are running on nodes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Load Balancer&lt;/strong&gt; at the &lt;code&gt;Master&lt;/code&gt; provide load balancing across a replicated group of PODs&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;master-and-worker-node&#34;&gt;&lt;strong&gt;Master and Worker Node&lt;/strong&gt;&lt;/h3&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/master_worker_node.png&#34; width=&#34;50%&#34;/&gt;
&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Kubeproxy&lt;/strong&gt;: is used for configuring Kubernetes Proxy Server.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kubelet&lt;/strong&gt;: is the primary &amp;ldquo;node agent&amp;rdquo; that runs on each node. It can register the node with the Master Node using node specific information.&lt;strong&gt;Controller vs. Scheduler&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Controller&lt;/strong&gt;: responsible for regulating the &lt;strong&gt;state&lt;/strong&gt; of the system. Used by master to ensure the actual state of the system matches the desired state as specified in Kubernetes resource configurations (e.g., Deployments, StatefulSets). Nodes also can access &lt;code&gt;deployment.yaml&lt;/code&gt; to know the desired state.
&lt;ul&gt;
&lt;li&gt;Monitors the state of the cluster and takes action to &lt;strong&gt;reconcile&lt;/strong&gt; the difference between the desired and actual states.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scheduler&lt;/strong&gt;: determines where new Pods should be placed (i.e., scheduled) on the cluster nodes.
&lt;ul&gt;
&lt;li&gt;When a Pod is created but not assigned to a specific node, the Scheduler evaluates available nodes and selects the most suitable one based on resource requirements, node health, other constraints, and policies.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;kubernetes-service&#34;&gt;&lt;strong&gt;Kubernetes Service&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;An abstraction which defines a &lt;strong&gt;logical set of Pods&lt;/strong&gt; running somewhere in your cluster that all provide the same functionality. and a policy by which to access them. The set of Pods targeted by a Service is usually determined by a &lt;strong&gt;label selector&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When created, each &lt;code&gt;Service&lt;/code&gt; is assigned a unique IP address (&lt;code&gt;ClusterIP&lt;/code&gt;) and a DNS name, which remains constant as the underlying Pods change.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cluster IP&lt;/code&gt; addr is tied to the lifespan of the &lt;code&gt;Service&lt;/code&gt; and will not change while the &lt;code&gt;Service&lt;/code&gt; is alive.&lt;/li&gt;
&lt;li&gt;Pods can be configured to talk to the Service and know that communication to the Service will be automatically load-balanced out to some pod that is a member of the Service.&lt;/li&gt;
&lt;li&gt;All the service-related configurations are specified in &lt;code&gt;services.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Types of service&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ClusterIP&lt;/strong&gt;: Exposes the service(pod) on a cluster-internal IP. This is the default &lt;code&gt;ServiceType&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NodePort&lt;/strong&gt;: Exposes the service on each Node’s IP at a static port (the &lt;code&gt;NodePort&lt;/code&gt;) to external traffic by fowarding traffic from the port on each node of the cluster to the container port. A &lt;code&gt;ClusterIP&lt;/code&gt; service, to which the &lt;code&gt;NodePort&lt;/code&gt; service routes, is automatically created. It is &lt;strong&gt;cheaper&lt;/strong&gt;, because has no actual traffic control.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LoadBalancer&lt;/strong&gt;: Also exposes the service externally, but using an extra load balancer from cloud provider. It does not have an exposed physical port. &lt;code&gt;NodePort&lt;/code&gt; and &lt;code&gt;ClusterIP&lt;/code&gt; services, to which the external load balancer routes, are automatically created. (It is more &lt;strong&gt;expensive&lt;/strong&gt;, because of traffic distribution management(&lt;strong&gt;TDM&lt;/strong&gt;))&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;deployment--service&#34;&gt;&lt;strong&gt;Deployment + Service&lt;/strong&gt;&lt;/h3&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/deployment_and_service.png&#34;
         alt=&#34;deployment and service&#34; width=&#34;40%&#34;/&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;commands-on-gke&#34;&gt;Commands on GKE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Create a GKE cluster:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;gcloud container clusters create &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  —machine-type e2-standard-2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  —num-nodes 2&lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  —zone us-central1-a &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  —cluster-version latest &lt;span style=&#34;color:#ae81ff&#34;&gt;\ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  mykubernetescluster
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl get nodes&lt;/code&gt; : list all nodes in the cluster&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl get pods&lt;/code&gt; : list all pods in the cluster&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl apply -f deployment.yaml&lt;/code&gt; : create deployment from &lt;code&gt;deployment.yaml&lt;/code&gt; file. It also creates the pods defined in the deployment file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl get deployments&lt;/code&gt; : list all deployments in the cluster&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl apply -f service.yaml&lt;/code&gt; : create service to expose app to external traffic.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl scale deployment &amp;lt;deployment-name&amp;gt; --replicas=&amp;lt;number-of-replicas&amp;gt;&lt;/code&gt; : scale the number of replications in a deployment refer to the number of pods in a deployment&lt;/li&gt;
&lt;li&gt;auto-scaling:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;kubectl autoscale deployment &amp;lt;deployment-name&amp;gt; --min=&amp;lt;min-replicas&amp;gt; --max=&amp;lt;max-replicas&amp;gt; --cpu-percent=&amp;lt;target-cpu-utilization-percentage&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;e.g. &lt;code&gt;kubectl autoscale deployment nginx-deployment --min=2 --max=10 --cpu-percent=80&lt;/code&gt; where cpu  percent is the average cpu usage across all the pods. here it is using HPA(horizontal pod autoscaler)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl get hpa&lt;/code&gt; : list all the HPA in the cluster&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kubectl delete hpa &amp;lt;deployment-name&amp;gt;&lt;/code&gt; : delete the HPA for a deployment&lt;/li&gt;
&lt;li&gt;2 types of auto-scaling:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Horizontal Pod Autoscaler&lt;/strong&gt; (HPA): scale the number of pods &lt;em&gt;replicas&lt;/em&gt; up or down in a deployment based on cpu/memory usage or other custom metrics. It modifies the &lt;strong&gt;number of&lt;/strong&gt; pods to balance load.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vertical Pod Autoscaler&lt;/strong&gt; (VPA): automatically adjust the cpu and memory requests/limits for the containers in the pods, so it is kind of changing the &lt;strong&gt;size of&lt;/strong&gt; pods, without changing the number of pods.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;To debug K8s application: &lt;a href=&#34;https://kubernetes.io/docs/tasks/debug/debug-application/debug-running-pod/&#34;&gt;https://kubernetes.io/docs/tasks/debug/debug-application/debug-running-pod/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;yaml&#34;&gt;YAML&lt;/h1&gt;
&lt;h2 id=&#34;basics&#34;&gt;Basics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;YAML (YAML Ain&amp;rsquo;t Markup Language) is a human-readable data serialization standard that can be used in conjunction with all programming languages and is often used to write configuration files.&lt;/li&gt;
&lt;li&gt;There are two main structures in YAML: &lt;strong&gt;Maps&lt;/strong&gt; (key-value pairs) and &lt;strong&gt;Lists&lt;/strong&gt; (ordered lists).
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Maps&lt;/strong&gt;: You can use map when you are trying to assign a scalar value
&lt;ul&gt;
&lt;li&gt;Example:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;John Doe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;age&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;v2.4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;pod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Lists&lt;/strong&gt;: sequences of objects that are treated as a single unit with the same key
&lt;ul&gt;
&lt;li&gt;Example:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;containers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;webserver1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;: 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#f92672&#34;&gt;containerPort&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;database-server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mysql:5.7&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#f92672&#34;&gt;containerPort&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;3306&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;create-pods&#34;&gt;Create Pods&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;code&gt;Pod&lt;/code&gt; is the smallest and most basic deployable object in K8s. A Pod represents a &lt;strong&gt;single instance of a running process&lt;/strong&gt; in your cluster.&lt;/li&gt;
&lt;li&gt;Each pod can obtain &lt;strong&gt;one or more containers&lt;/strong&gt;, such as Docker Containers.&lt;/li&gt;
&lt;li&gt;When a Pod runs multiple containers, the containers are managed as a single entity and share the Pod&amp;rsquo;s resources. Generally, running multiple containers in a single Pod is an advanced use case.&lt;/li&gt;
&lt;li&gt;Pods also contain shared networking and storage resources for their containers:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Network&lt;/strong&gt;: Pods are automatically assigned unique IP addresses. Pod containers share the same network namespace, including IP address and network ports. Containers in a Pod communicate with each other inside the Pod on localhost.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Storage&lt;/strong&gt;: Pods can specify a set of shared storage volumes that can be shared among the containers.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You can consider a Pod to be a self-contained unit, isolated &amp;ldquo;logical host&amp;rdquo; that contains the systemic needs of the application it servers.&lt;/li&gt;
&lt;li&gt;A Pod is meant to run a single instance of your application on your cluster. However, it is not recommended to create individual Pods directly. Instead, you generally create a set of identical Pods, called &lt;code&gt;replicas&lt;/code&gt;, to run your application. Such a set of replicated Pods are created and managed by a &lt;code&gt;Deployment&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;deployment&#34;&gt;Deployment&lt;/h2&gt;
&lt;p&gt;A deployment is a file that defines a pod&amp;rsquo;s desired behavior or characteristics. You create it to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ensure workload &lt;strong&gt;availability&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scale&lt;/strong&gt; workload&lt;/li&gt;
&lt;li&gt;Deployments can be paused, edited and rolled-back&lt;/li&gt;
&lt;li&gt;Simplify the interface with external network&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;apps/v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Deployment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx-deployment&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# Deployment name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;labels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;app&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;replicas&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;selector&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;# defines how the created ReplicaSet &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# finds which Pods to manage&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;matchLabels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;app&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;template&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;labels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;app&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;# We will run one Pod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# containing one container&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#f92672&#34;&gt;containers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                - &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx:1.14.2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    - &lt;span style=&#34;color:#f92672&#34;&gt;containerPort&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To create it, we run: &lt;code&gt;kubectl apply -f deployment.yaml&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;service&#34;&gt;Service&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Motivation&lt;/strong&gt;: We need a way of consistently being able to access our pod-set even if the pods themselves are recreated or lost. This should be transparent to any application or other pods trying to access this pod-set.
&lt;ul&gt;
&lt;li&gt;Example: assume we have a Kubernetes deployment that contains web application and a database. When a user searches from our website’s frontend, the search request is directed to a set of pods where our database is defined. If the database pod goes down, Kubernetes master will recreate it, and the frontend will not be aware of this. The search request should still be acknowledged and fulfilled as usual.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Definition&lt;/strong&gt;: an abstract way to expose an application running on a set of Pods as a network service.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Example code&lt;/strong&gt;:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;apiVersion&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;v1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;kind&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;metadata&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx-service&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# Service name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;labels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;app&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;spec&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;type&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;NodePort&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# Service type&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;selector&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;app&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# a selector that the Service uses &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# to match and identify the pods in &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# Nginx Deployment, because the deployment &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# and the pods also have the exact same label.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# This is how all incoming requests to this Nginx service &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# will be automatically routed to the Nginx deployment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;# Using this NodePort, will be able to access the Nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# service on all K8s nodes via port 30500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#f92672&#34;&gt;protocol&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;TCP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;port&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;targetPort&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;nodePort&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;30500&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# points to our Nginx deployment&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;To create this service, we run: &lt;code&gt;kubectl apply -f service.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;reading&#34;&gt;Reading&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Kubernetes basics first 6 chapters: &lt;a href=&#34;https://kubernetes.io/docs/tutorials/kubernetes-basics/&#34;&gt;https://kubernetes.io/docs/tutorials/kubernetes-basics/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Deploy a Docker containerized web app to GKE: &lt;a href=&#34;https://cloud.google.com/kubernetes-engine/docs/tutorials/hello-app&#34;&gt;https://cloud.google.com/kubernetes-engine/docs/tutorials/hello-app&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/deployment_orchestration/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Containerization</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/containerization/</link>
        <pubDate>Sat, 22 Nov 2025 22:25:09 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/containerization/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/containerization/ -&lt;h1 id=&#34;virtual-machines-to-containers&#34;&gt;Virtual Machines to Containers&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;VM is too &lt;strong&gt;heavy&lt;/strong&gt; for a simple process as it boots a whole OS every time.&lt;/li&gt;
&lt;li&gt;Containers are &lt;strong&gt;isolated&lt;/strong&gt;, but share OS, and where appropriate, also bins/libs. So SDE focuses more on app. &lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/vm_to_container.png&#34; alt=&#34;VM to Container&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Comparison:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Lightweight&lt;/strong&gt;: Containerization avoids duplication of app Bins/libs, and only save the modifications did by different containers, without changing the original binaries.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Security&lt;/strong&gt;: VM is more secure because of full isolation while Container has only process level isolation.
&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/vm_vs_container.png&#34; alt=&#34;VM vs. Container&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;motivation-of-containerization&#34;&gt;Motivation of Containerization&lt;/h1&gt;
&lt;h2 id=&#34;development-challenges&#34;&gt;Development challenges:&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Containerization makes version control much more easier, and more importantly, safer, to avoid a simple app influence the whole system.&lt;/li&gt;
&lt;li&gt;Solves the conflict of different dependencies, versions, environments(&lt;code&gt;N x M&lt;/code&gt; configurations， multiplicity of hardware env), multiplicity of stacks, and contents.&lt;/li&gt;
&lt;li&gt;Modularity and scalability: can be quickly and smoothly migrated &amp;amp; scaled, ensuring compatibility across different environments.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;solution-containerization&#34;&gt;Solution: Containerization&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/sol_by_containerization.png&#34; alt=&#34;solution by containerization&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;docker---leading-container&#34;&gt;Docker - leading container&lt;/h1&gt;
&lt;h2 id=&#34;why-popular&#34;&gt;Why popular&lt;/h2&gt;
&lt;p&gt;By mid-2013, &lt;code&gt;dotCloud&lt;/code&gt; company released a tool that used these ideas to provide a better way to deploy encapsulated applications. The tool later became Docker and &lt;code&gt;dotCloud&lt;/code&gt; became Docker Inc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Most widely known, and used&lt;/li&gt;
&lt;li&gt;Easy to install and use&lt;/li&gt;
&lt;li&gt;Free&lt;/li&gt;
&lt;li&gt;Load fast: sharing library among containers&lt;/li&gt;
&lt;li&gt;Docker Hub: public registry of container images&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Its file system!&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;union-file-systemufs&#34;&gt;Union File System(UFS)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Union File Systems&lt;/strong&gt; basically allow you to take different file systems and create a union of their contents with the top-most layer superseding any similar files found in the file systems below it.
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/layers_of_image.png&#34;
           alt=&#34;layers of image&#34; width=&#34;30%&#34;/&gt;
  &lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;ul&gt;
&lt;li&gt;Docker images are composed of &lt;strong&gt;layers&lt;/strong&gt; in the UFS. The image is itself a stack of read-only directories. The base is a simplified Linux file system.
&lt;ul&gt;
&lt;li&gt;Additional tools that the container needs are then layered on top of this base image, each in its own layer. Each layer represents an instruction in the image’s Dockerfile.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Packages in the hub has &lt;strong&gt;Layers&lt;/strong&gt; which can be some personalized modification upon the original package/app. But the layers can be shared by different app/packages such that the next time you pull some packages sharing same layers, no need to download again.&lt;/li&gt;
&lt;li&gt;All containers with the same image see the same &lt;strong&gt;directory tree&lt;/strong&gt;, so it loads the directory tree in the memory only once among all instances&lt;/li&gt;
&lt;li&gt;When the container is run, a final &lt;strong&gt;writable file system&lt;/strong&gt; is layered on top.&lt;/li&gt;
&lt;li&gt;As an app in the container executes, if it needs to modify an object in the read-only layers, it copies those objects into the writable layer. Otherwise, it uses the data in the read-only layer, which is shared with other container instances.&lt;/li&gt;
&lt;li&gt;Thus, typically only a little of the container image needs to be actually loaded when a container is run, which means that containers can load and run much faster than virtual machines. Launching a container typically takes less than a second.&lt;/li&gt;
&lt;li&gt;In addition to the file system layers in the container image, you can mount a &lt;strong&gt;host machine directory&lt;/strong&gt; as a file system in the container’s OS. In this way, a container can share data with the host. Multiple containers can also share these &lt;strong&gt;mounted directories&lt;/strong&gt; and can use them for basic communication of shared data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;docker-dev-workflow&#34;&gt;Docker Dev Workflow&lt;/h2&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/docker_workflow.png&#34;
           alt=&#34;docker workflow&#34; width=&#34;50%&#34;/&gt;
  &lt;/figure&gt;

&lt;h3 id=&#34;docker-lifecycle-overview&#34;&gt;Docker Lifecycle Overview&lt;/h3&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;figure class=&#34;img-center&#34;&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/docker_lifecycle.png&#34;
         alt=&#34;docker lifecycle&#34; width=&#34;60%&#34;/&gt;
&lt;/figure&gt;

&lt;h3 id=&#34;dockerfile&#34;&gt;Dockerfile&lt;/h3&gt;
&lt;p&gt;Most important commands:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;Instruction&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ADD&lt;/td&gt;
&lt;td&gt;Add local or remote files and directories.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ARG&lt;/td&gt;
&lt;td&gt;Use build-time variables.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CMD&lt;/td&gt;
&lt;td&gt;Specify default commands.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;COPY&lt;/td&gt;
&lt;td&gt;Copy files and directories.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ENTRYPOINT&lt;/td&gt;
&lt;td&gt;Specify default executable.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ENV&lt;/td&gt;
&lt;td&gt;Set environment variables.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXPOSE&lt;/td&gt;
&lt;td&gt;Describe which ports your application is listening on.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FROM&lt;/td&gt;
&lt;td&gt;Create a new build stage from a base image.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HEALTHCHECK&lt;/td&gt;
&lt;td&gt;Check a container&amp;rsquo;s health on startup.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;LABEL&lt;/td&gt;
&lt;td&gt;Add metadata to an image.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MAINTAINER&lt;/td&gt;
&lt;td&gt;Specify the author of an image.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ONBUILD&lt;/td&gt;
&lt;td&gt;Specify instructions for when the image is used in a build.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RUN&lt;/td&gt;
&lt;td&gt;Execute build commands.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SHELL&lt;/td&gt;
&lt;td&gt;Set the default shell of an image.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;STOPSIGNAL&lt;/td&gt;
&lt;td&gt;Specify the system call signal for exiting a container.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;USER&lt;/td&gt;
&lt;td&gt;Set user and group ID.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VOLUME&lt;/td&gt;
&lt;td&gt;Create volume mounts.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WORKDIR&lt;/td&gt;
&lt;td&gt;Change working directory.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;dockerfile-vs-docker-union-filesystem&#34;&gt;Dockerfile vs. Docker Union Filesystem&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/dockerfile_vs_ufs.png&#34; alt=&#34;dockerfile vs UFS&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;docker-commands&#34;&gt;Docker commands&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Build Your Docker Image (and tag it) – Notice the period at the end&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker build -t yourDockerHubID/your_image_name:tag .
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Example:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker buildx build --platform linux/amd64,linux/arm64 --push -t allenhu28/hw2-jupyter:latest .
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test your image&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker run (-d) -p 8888:8888 yourDockerHubID/your_image_name:tag
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or simply&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker run  8888:8888 yourDockerHubID/your_image_name:tag
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upload to DockerHub&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker push yourDockerHubID/your_image_name:tag
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;More examples of build and add tag:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker build -t hw2-jupyter . 
docker tag hw2-jupyter allenhu28/hw2-jupyter:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Docker Compose&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create and start all the containers listed in the “docker-compose.yml”: &lt;code&gt;docker-compose up -d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;List all the containers belong to the compose environment instance: &lt;code&gt;docker-compose ps&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Set the number of containers: &lt;code&gt;docker-compose scale web=3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;multiple-containers&#34;&gt;Multiple containers&lt;/h3&gt;
&lt;p&gt;Solutions to connect several containers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Docker networking&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kubernetes&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Docker Compose&lt;/strong&gt;: a tool for defining and running multi-container Docker applications. With Compose, you use a single &lt;strong&gt;YAML&lt;/strong&gt; file &lt;code&gt;docker-compose.yml&lt;/code&gt; to configure your multi-container application’s services. Then, with a single command, you create and start all the services from your configuration.
&lt;ul&gt;
&lt;li&gt;YML File example:
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;version&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;web&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;build&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;nginx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;8080:80&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;db&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;mysql&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;example&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3306:3306&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;db_data:/var/lib/mysql&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;: &lt;span style=&#34;color:#75715e&#34;&gt;# Shared across services)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;db_data&lt;/span&gt;: {}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;Network&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;default&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;driver&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;bridge&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;docker-limitations&#34;&gt;Docker Limitations&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Security&lt;/strong&gt;: Containers share the host OS kernel, so a malicious container could potentially exploit vulnerabilities in the kernel to compromise the host system or other containers.&lt;/li&gt;
&lt;li&gt;Does not offer &lt;strong&gt;cross-hardware-architecture portability&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Not easy to use with Desktop applications that &lt;strong&gt;require rich GUI&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Challenging to manage large number of docker containers &lt;strong&gt;manually&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/containerization/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Virtualization</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/virtualization/</link>
        <pubDate>Sat, 22 Nov 2025 21:01:07 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/virtualization/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/virtualization/ -&lt;h1 id=&#34;virtualization&#34;&gt;Virtualization&lt;/h1&gt;
&lt;p&gt;to create independent execution environment, leveraging the abstract form of the hardware capability.&lt;/p&gt;
&lt;h2 id=&#34;more-defi-of-virtualization&#34;&gt;More Defi of Virtualization&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;abstracts the hardware of computing infrastructure into several different execution environments.
&lt;ul&gt;
&lt;li&gt;Creates the illusion that each separate environment is running on its &lt;strong&gt;own private computing infrastructure&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Makes servers, workstations, storage, network, and other systems &lt;strong&gt;independent of the physical hardware&lt;/strong&gt; layer.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;It is the fundamental technology for cloud infrastructure.
&lt;ul&gt;
&lt;li&gt;Virtual resources can be started and stooped easily and quickly on demand.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;related-concepts&#34;&gt;Related concepts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;virtual machine (VM)&lt;/strong&gt;: an instance of a virtualized computing environment that behaves like a separate computer with its own OS, CPU, memory, storage, and network interfaces. A visual representation of a physical machine.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;hypervisor&lt;/strong&gt; or &lt;strong&gt;Virtual machine monitor&lt;/strong&gt;: A process that separates a computer’s operating system and applications from the underlying physical hardware.
&lt;ul&gt;
&lt;li&gt;Hypervisor monitors and manages running virtual machines.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;host machine&lt;/strong&gt;: the physical machine on which the virtual machine runs.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;guest machine&lt;/strong&gt;: the virtual machine that runs on the host machine.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;virtualization-types&#34;&gt;Virtualization types&lt;/h2&gt;
&lt;p&gt;The most important three types of virtualization:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network: the process of combining hardware and software network resources and network functionality into a single, software-based administrative entity, a virtual network
&lt;ul&gt;
&lt;li&gt;Internal network virtualization: software switch, software router, software defined network(SDN)&lt;/li&gt;
&lt;li&gt;external network virtualization: VLAN, VXLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Server&lt;/strong&gt;: Full, partial, para (most popular on cloud)&lt;/li&gt;
&lt;li&gt;Storage: block-level, file-level
&lt;ul&gt;
&lt;li&gt;pools physical storage from multiple network storage mediums to enable a single logical sotrage pool that is managed from a central console&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;virtualization-in-practice&#34;&gt;Virtualization in Practice&lt;/h2&gt;
&lt;h3 id=&#34;traditional-server-concept&#34;&gt;Traditional server concept&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Servers are viewed as an &lt;strong&gt;integral&lt;/strong&gt; computing unit that each unit includes the hardware, OS, storage, and related apps.&lt;/li&gt;
&lt;li&gt;Servers are often identified and referred to by their &lt;strong&gt;functions&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;File server, web server, database server, exchange server, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;When current server is overloaded, we need to add more physical servers to share the load.&lt;/li&gt;
&lt;li&gt;In the pic below, which is a traditional server infrastructure, server is the combination of hardware and software(软硬件互相绑定)
&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/traditional_server_failure.png&#34; alt=&#34;Traditional server failure&#34;&gt;&lt;/li&gt;
&lt;li&gt;Disadvantages:
&lt;ul&gt;
&lt;li&gt;Maintenance cost is high: acquisition and hardware repair cost&lt;/li&gt;
&lt;li&gt;Replication is challenging: redundancy is costly and difficult to implement&lt;/li&gt;
&lt;li&gt;Scalability is limited: physical resources are limited&lt;/li&gt;
&lt;li&gt;Highly vulnerable to hardware failure: single point of failure&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Often: Resource utilization is low&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;virtual-server-infrastructure&#34;&gt;Virtual server infrastructure&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Server sprawl&lt;/strong&gt; happens especially for on-promise and is the most threat for traditional server. To avoid this, we do virtualization.
The difference with traditional server infrastructure is that here the server is decoupled from the hardware. We add a new layer between {app, OS, storage} and hardware, which is the virtualization(&lt;strong&gt;hypervisor&lt;/strong&gt;) layer.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Server virtualization enable server Consolidation and Containment
&lt;ul&gt;
&lt;li&gt;Eliminating “&lt;strong&gt;server sprawl&lt;/strong&gt;” via deployment of systems as “virtual machines” that can run safely and move transparently across shared hardware&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;A virtual server can be serviced by one or more hosts, and one host may house more than one virtual server.
&lt;ul&gt;
&lt;li&gt;This results in increased server utilization rates: from 5-15%, for traditional servers, to 60-80%&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Virtual servers can still be referred to by their &lt;strong&gt;function&lt;/strong&gt; i.e., email server, database server, etc.&lt;/li&gt;
&lt;li&gt;If the environment is built correctly, virtual servers will &lt;strong&gt;not be affected by the loss of a host&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Hosts may be removed and introduced almost at anytime to accommodate maintenance.&lt;/li&gt;
&lt;li&gt;Virtual servers can be scaled up and down easily.&lt;/li&gt;
&lt;li&gt;Server &lt;strong&gt;“cloning”&lt;/strong&gt; can be easily achieved
&lt;ul&gt;
&lt;li&gt;Multiple, identical virtual servers can be easily created based on server templates&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Virtual servers can be migrated from host to host dynamically, as needed.
&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/virtualization_structure.png&#34; alt=&#34;virtualization image&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;virtualization-advantages&#34;&gt;Virtualization advantages:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Resource optimization&lt;/strong&gt; that would result in reducing hardware, power and space requirement.&lt;/li&gt;
&lt;li&gt;Virtualization allows for the &lt;strong&gt;quick deployment, migration, and replication of VMs&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Support for &lt;strong&gt;Legacy Systems&lt;/strong&gt;: Virtualization allows legacy applications to run in a modern cloud environment without requiring significant changes to the underlying infrastructure&lt;/li&gt;
&lt;li&gt;Better &lt;strong&gt;automation&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;hypervisors&#34;&gt;Hypervisors:&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/types_of_hypervisor.png&#34; alt=&#34;Two types of hypervisor&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Type 1 native hypervisor(bare-metal): runs directly on the host&amp;rsquo;s hardware to control the hardware and to manage guest operating systems. Examples: VMware ESXi, Microsoft Hyper-V, Xen&lt;/li&gt;
&lt;li&gt;Type 2 hosted hypervisor: runs as an application on a conventional operating system and supports virtual machines running as individual processes. Examples: VMware Workstation, Oracle VirtualBox, QEMU, JVM, UTM&lt;/li&gt;
&lt;/ul&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/virtualization/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Brief Intro to Cloud</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/intro_to_cloud/</link>
        <pubDate>Fri, 21 Nov 2025 03:10:21 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/intro_to_cloud/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/intro_to_cloud/ -&lt;h1 id=&#34;what-is-cloud&#34;&gt;What is Cloud&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;In simple words, Cloud = SCN (Lots of &lt;strong&gt;S&lt;/strong&gt;torage + Computer &lt;strong&gt;C&lt;/strong&gt;(omputation)ycles nearby + &lt;strong&gt;N&lt;/strong&gt;etwork bandwidth)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In the industry, “Cloud” refers to large Internet services running on 10,000s of machines (Amazon, Google, Microsoft, etc.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To be specific, Cloud is a model that offers following characteristics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On-demand self-service: no human intervention needed to get resources&lt;/li&gt;
&lt;li&gt;Broad network access: access from anywhere&lt;/li&gt;
&lt;li&gt;Resource pooling: provider shares resources to serve multiple consumers&lt;/li&gt;
&lt;li&gt;Rapid elasticity&lt;/li&gt;
&lt;li&gt;Measured service&lt;/li&gt;
&lt;li&gt;Multi-tenancy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;why-cloud&#34;&gt;Why Cloud&lt;/h1&gt;
&lt;p&gt;Three main reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Accessibility&lt;/li&gt;
&lt;li&gt;Big data&lt;/li&gt;
&lt;li&gt;Cost efficiency&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cost-saving&#34;&gt;Cost saving&lt;/h2&gt;
&lt;p&gt;Cloud cost savings in different scenario based on the scale of business:
&lt;img src=&#34;http://allenhsm.github.io/images/cloudInfraBasics/cost_saving.png&#34; alt=&#34;alt text&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;smaller&lt;/strong&gt; the scale is, relatively &lt;strong&gt;cheaper&lt;/strong&gt; the cloud is. So it is most attractive to tiny deployment&lt;/li&gt;
&lt;li&gt;A tricky point: When you are a B or A in the image, service provider give you many free tools to use and make you rely on these tools more and more as you grows up. When the scale rises to C and D, it becomes too hard to migrate to on-premises since, not only data, but structures, designs all need to be changed.&lt;/li&gt;
&lt;li&gt;Cloud actually cost an &lt;strong&gt;extra Risk Management expense&lt;/strong&gt; within the operational expenses, and in the long run it can outweigh Capital expenses.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;cloud-computing-service-model&#34;&gt;Cloud Computing Service Model&lt;/h1&gt;
&lt;p&gt;We focus on the &lt;strong&gt;third-party-provided service&lt;/strong&gt; only:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Software as a Service (SaaS)&lt;/li&gt;
&lt;li&gt;Platform as a Service (PaaS)&lt;/li&gt;
&lt;li&gt;Infrastructure as a Service (IaaS)&lt;/li&gt;
&lt;li&gt;Metal as a Service (MaaS)
We define the resources that users or service providers manage as follows:
&lt;code&gt;Application&lt;/code&gt;, &lt;code&gt;Data&lt;/code&gt;, &lt;code&gt;Runtime&lt;/code&gt;, &lt;code&gt;Middleware&lt;/code&gt;, &lt;code&gt;OS&lt;/code&gt;, &lt;code&gt;Virtualization&lt;/code&gt;, &lt;code&gt;Servers&lt;/code&gt;, &lt;code&gt;Storage&lt;/code&gt;, &lt;code&gt;Networking&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;software-as-a-service-saas&#34;&gt;Software as a Service (SaaS)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;In this case, you as a user do not care about how it is deployed, how data structured, or who’s the cloud provider. Here on-demand software is the provided service, and user has the least control over it.  They have no control of the hardware and system.&lt;/li&gt;
&lt;li&gt;Most applications can be run directly from web browser.&lt;/li&gt;
&lt;li&gt;This is the &lt;strong&gt;largest cloud market&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Resource users manage: NA&lt;/li&gt;
&lt;li&gt;Examples: Google Apps, Oracle’s Netsuite, SAP’s Concur, Cisco WebEx, GoToMeeting&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;platform-as-a-service-paas&#34;&gt;Platform as a Service (PaaS)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Provides computing platforms which typically includes operating system, programming language, execution environment, database, web server, etc. to build cloud applications.&lt;/li&gt;
&lt;li&gt;Applications using PaaS inherit cloud characteristic such as scalability, high-availability, multi-tenancy, SaaS enablement, and more.&lt;/li&gt;
&lt;li&gt;Salesforce for example, the user can actually build application on the platform, so it is not just consumer but also service provider. So somehow the user gets access to the cloud service provider.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compared to IaaS&lt;/strong&gt;: Provide a lot of development tools such that you can build up a system fast and easily, and as a trade-off, you developed apps using their specific APIs, making it or impossible to migrate (”be &lt;strong&gt;lock-in&lt;/strong&gt;”)&lt;/li&gt;
&lt;li&gt;Resource users manage: &lt;code&gt;Application&lt;/code&gt;, &lt;code&gt;Data&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Examples: Google App Engine, AWS Elastic Beanstalk, Salesforce.com, Amazon EMR, MS Azure HDInsight, GCP Dataproc&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;infrastructure-as-a-service-iaas&#34;&gt;Infrastructure as a Service (IaaS)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Offers storage and computing resources that developers and IT organization use to deliver custom business solutions&lt;/li&gt;
&lt;li&gt;User directly works on cloud service like GCP, without third party in between, and creates virtual machine (own service) upon it. And the user still does not know how exactly the physical layer is formed, how the SCN are composed.&lt;/li&gt;
&lt;li&gt;Resource users manage: &lt;code&gt;Application&lt;/code&gt;, &lt;code&gt;Data&lt;/code&gt;, &lt;code&gt;Runtime&lt;/code&gt;, &lt;code&gt;Middleware&lt;/code&gt;, &lt;code&gt;OS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Examples: Amazon EC2, Google Compute Engine (GCE), VMWare vCloud&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;metal-as-a-service-maas&#34;&gt;Metal as a Service (MaaS)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Combines the flexibility and scalability of the cloud with the ability to harness the power of physical servers.&lt;/li&gt;
&lt;li&gt;It still uses SCN, but the user knows underlying physical hardware structure, like port number, get control of physical devices. Pretty much the same as how private cloud works (the main function is the same) but not exactly. You do not own the land &amp;amp; physical space used to store the machine, the cooling system, the surveillance system (security) etc, surrounding the machines. (Don’t need to care about peripheral services)&lt;/li&gt;
&lt;li&gt;Resource users manage: Everything&lt;/li&gt;
&lt;li&gt;Example: Juju&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;paas-or-iaas&#34;&gt;PaaS or IaaS?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Vendor Lock-in&lt;/strong&gt;: the ability to use &amp;ldquo;what you manage&amp;rdquo; in cloud env with different cloud providers.
&lt;ul&gt;
&lt;li&gt;PaaS: Low portability, high lock-in risk by requiring users to develop apps based on their specific APIs. Hard to switch to other vendor.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Development tools&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;PaaS: Provide a set of development tools to build app fast and easily.&lt;/li&gt;
&lt;li&gt;Still, it is another trick for vendor lock-in.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;cloud-computing-enablers&#34;&gt;Cloud Computing enablers:&lt;/h1&gt;
&lt;p&gt;= Data Center (hardware) + Virtualization (software, the layer allows you to create SCN, aka the resource pool)&lt;/p&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/intro_to_cloud/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>Cloud Infra Basics - 14848</title>
        <link>http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics/</link>
        <pubDate>Fri, 21 Nov 2025 02:03:20 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics/ -&lt;h1 id=&#34;credit&#34;&gt;Credit:&lt;/h1&gt;
&lt;p&gt;This is a review and summary of the concepts and techniques I have learned so far in CMU course &lt;code&gt;14848&lt;/code&gt;. This course is designed and delivered by &lt;strong&gt;Professor Mohamed Farag&lt;/strong&gt;, a helpful and passionate lecturer, a knowledgeable and chill guy. So most of the materials in this series of posts are from his lectures and slides.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;intro&#34;&gt;Intro&lt;/h1&gt;
&lt;p&gt;This course consists of two parts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;cloud infrastructure components&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;coding in these components&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This series of posts will follow the same structure and review each specific topics separately.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;table-of-contents&#34;&gt;Table of Contents&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/intro_to_cloud&#34;&gt;Brief Intro to Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/virtualization&#34;&gt;Virtualization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/containerization&#34;&gt;Containerization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics_4&#34;&gt;Deployment Orchestration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics_5&#34;&gt;Apache Kafka&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics_6&#34;&gt;Terraform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics_7&#34;&gt;Hadoop: HDFS, MapReduce, YARN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics_8&#34;&gt;Spark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;TBD&lt;/li&gt;
&lt;/ol&gt;
- http://allenhsm.github.io/tech/cloud_infra_basics/cloud_infra_basics/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>深夜偶感</title>
        <link>http://allenhsm.github.io/posts/miscellaneous_notes/%E5%81%B6%E6%84%9F/</link>
        <pubDate>Thu, 20 Nov 2025 22:24:29 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/posts/miscellaneous_notes/%E5%81%B6%E6%84%9F/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/posts/miscellaneous_notes/%E5%81%B6%E6%84%9F/ -&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.4;
            color: rgba(17, 27, 156, 0.8) !important;
            margin-bottom: 1.5rem;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;     每次离家我都是乘船走的。去港口的路很远很远，爸爸开车载着我们，到了之后还要办些手续、托运行李，等一切准备就绪，已经过去两个小时，一路跟着我们的爷爷也有些疲惫了。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     爷爷是个老烟枪，二十多岁下放时染上烟瘾，抽到现在有六十多年了。我小时候有鼻炎哮喘，最讨厌烟味，于是我在家时他会把自己关在阳台上抽，抽完也不作等待，就裹着满身的烟味回来了。为这事大家说了不止一次，他稍改几天又回到原样。于他而言，此物最是提神解乏。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     这时候爷爷叫上我：“该办的那些都办好了吧？”&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     “都办好了。”&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     “好。我们到外头抽口烟去。”&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     检票处在港口的三楼，那里有一条扶梯直通向一楼正门。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     我们走出大厅，在门口立住。海风吹得愈发凶了，夕阳刚沉入洋面，港口外围散落着星星点点的灯光。爷爷背着风，远处是黯淡的海水。他眯着眼睛点起烟来，明灭之间，一口白烟吐出，旋即被吹散了，原本熨贴的白发也逐渐蓬乱。他转向我，仍是被海风迷了眼睛，我一时说不出话来，只是笑着注视他吞云吐雾。我已看他抽过成千上万支烟，往往是从容的，一根是要分成三次来抽的，但我还是希望他抽得再少一点，慢一点。离检票至少还有十分钟，爷爷一口接一口地吸着，一根烟很快燃尽。他是个不愿踩点的人。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     大概我们又谈了几句无关的话，爷爷看看手表，“差不多了，我走得慢，上去吧。”握着他刚捏了烟的手，我们又登上那条通向三楼的长长的扶梯。我站在他的后方，向左看去，熟悉的大厅里并没有多少行人，中间支着三根巨大的立柱，撑起十余米高的弧形穹顶，笼罩一切，巨大的空间被灯光照得亮堂堂的。我又忍不住想起三年多前第一次离家时，同样是托运完行李后陪爷爷出门抽一支烟，同样是坐着这条扶梯返回登船口，那次我也在左边，和爷爷并排站着，根本不敢看他，下意识的扭头望向这空旷的大厅，尽可能不出声音，深吸一大口气，可几滴泪还是不听话地流到脸上，我赶忙用左手去抹，总算没有真的哭出来。想到这里我转头看向爷爷，爷爷还是像以前每次接我时那样挑着眉，笑着看向我，我也笑了起来，有一点酸楚，更多是无奈。这次分别没有人在我面前流下泪来，我自己也没有，大概这些年我们都进步了——或者是，妥协了。每个人或早或晚都会明白，有些路恐怕只能一个人走，中间若偶有人同途，实是万幸。&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;

&lt;/div&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.4;
            color: rgba(17, 27, 156, 0.8) !important;
            margin-bottom: 1.5rem;&#34;&gt;
    &amp;mdash; 深夜里想起相距万里的爷爷
&lt;/div&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.4;
            color: rgba(17, 27, 156, 0.8) !important;
            margin-bottom: 1;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;乙巳年丁亥月廿日清晨&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;于匹兹堡&lt;/p&gt;

&lt;/div&gt;
- http://allenhsm.github.io/posts/miscellaneous_notes/%E5%81%B6%E6%84%9F/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>读《八十年代访谈录》（1）</title>
        <link>http://allenhsm.github.io/reading/%E5%85%AB%E5%8D%81%E5%B9%B4%E4%BB%A3%E8%AE%BF%E8%B0%88%E5%BD%951/</link>
        <pubDate>Sun, 02 Nov 2025 01:06:41 -0500</pubDate>
        
        <guid>http://allenhsm.github.io/reading/%E5%85%AB%E5%8D%81%E5%B9%B4%E4%BB%A3%E8%AE%BF%E8%B0%88%E5%BD%951/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/reading/%E5%85%AB%E5%8D%81%E5%B9%B4%E4%BB%A3%E8%AE%BF%E8%B0%88%E5%BD%951/ -&lt;h1 style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; font-size: 28px; letter-spacing: 2px; line-height: 1.3;&#34;&gt;《八十年代访谈录》 - 阿城篇&lt;/h1&gt;
&lt;hr&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 18px; 
            letter-spacing: 2px; 
            line-height: 1.4;
            color: rgba(17, 27, 156, 0.8) !important;
            margin-bottom: 1;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;原文：&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     读查建英阿城访谈，聊八十年代的青年各异的知识结构、文化构成、文化断层，似乎是很遥远的事情了，这时候从pdf切到Instagram，今天是万圣节，同学的story里，奇装异服的青年们在爆闪的灯光中、在激情的音乐里、高举着红色party杯或向上伸直一只手，狂乱地跃动着，有一种让人神魂颠倒的光怪陆离。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     现在的青年是否声色犬马了？我倒没有这种感觉，至少中国社会百年来一直在癫狂地变化，不同年代的青年间也许有知识结构的差异，但青年的共性是有无限的精力和激情，释放的媒介可以是反叛的文化、可以是性、可以是革命与运动，总之我想留个出口是有好处的。&lt;/p&gt;

&lt;/div&gt;
&lt;hr&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.8;
            color: inherit !important;
            margin-bottom: 1;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;     读查建英访谈阿城，聊八十年代的青年各异的知识结构、文化构成、文化断层，似乎是很遥远的事情了，这时候从pdf切到Instagram，今天是万圣节，同学的story里花枝招展的青年们高举着手臂，有的端着红色的party杯，狂乱地跃动着，灯光爆闪，音乐强劲，长发纷飞，如痴如狂，有一种让人神魂颠倒的光怪陆离。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     现在的青年是否（沉溺于）声色犬马了？我倒没有这种感觉。这就好比把孩子成绩不好的责任归咎于电子游戏——二十多年前中国的孩子可以偷跑去街机厅，三四十年前的可以看连环画、金庸琼瑶，百年前的可以去抓蟋蟀推牌九，电子游戏莫名其妙地成了这个时代家校无能、社会失衡的遮羞布、替罪羊；再者，孩子为什么就一定要成绩好呢？或者说，为何只有成绩不好会引起家长广泛的“同仇敌忾”呢？又扯远了。但其实在中国这样的变化和社会的文化构成是匹配的。看美国大学的宿舍，和大头电脑时代的照片里还是一个样，在没有电脑的七八十年代也是这样，大概五十年前的美国学生也和现在一样，弹着吉他端着酒在宿舍里狂欢，也就是说，20岁的美国人和80岁的美国人知识结构类似不一定是件奇怪的事，而放在中国，整个情形便完全不同了，中国社会至少百年来一直在癫狂地变化，纵然不同年代的青年间有知识结构的差异，但青年的共性是有无限的精力和激情，释放的媒介可以是反叛的文化、可以是性、可以是革命与运动，总之我想留个出口是有好处的。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     如果青年们的天性没有变，进一步的，要考虑的便是文化的土壤了，一个能让青年释放天性、将荷尔蒙转化为创造力的土壤。阿城由此聊到文化断层，书中谈的很深入，no comments here.&lt;/p&gt;

&lt;/div&gt;
- http://allenhsm.github.io/reading/%E5%85%AB%E5%8D%81%E5%B9%B4%E4%BB%A3%E8%AE%BF%E8%B0%88%E5%BD%951/ - This is a customized copyright.</description>
        </item>
    
    
    
        <item>
        <title>随笔两则</title>
        <link>http://allenhsm.github.io/posts/miscellaneous_notes/%E9%9A%8F%E7%AC%94%E4%B8%A4%E5%88%99/</link>
        <pubDate>Mon, 24 Mar 2025 23:04:49 -0700</pubDate>
        
        <guid>http://allenhsm.github.io/posts/miscellaneous_notes/%E9%9A%8F%E7%AC%94%E4%B8%A4%E5%88%99/</guid>
        <description>Allen&#39;s Blog http://allenhsm.github.io/posts/miscellaneous_notes/%E9%9A%8F%E7%AC%94%E4%B8%A4%E5%88%99/ -&lt;p&gt;&lt;h1 style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; font-size: 28px; letter-spacing: 2px; line-height: 1.3;&#34;&gt;又见“浴乎沂，风乎舞雩”&lt;/h1&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.8;
            color: inherit !important;
            margin-bottom: 1;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;     二年级时，班主任让我们每天背一则论语。背了一阵子之后，就像读小说时好奇结局，我开始往后翻，一直翻到最长的那节，《先进》第26：“子路、曾皙、冉有、公西华侍坐。。。”，别的篇目都是三言两语，这篇洋洋洒洒占满了一整页，根本没法读下去。我抱怨：“妈妈你看，这篇怎么这么长，这怎么背啊？”妈妈笑我：“等到那一天你自然就能背出来的。”我还是担心，时不时就会偷瞄一下这头怪兽，再立马合上。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     不曾想到，第二年，离“子路、曾皙、冉有、公西华”还有些日子时，我就转学了，论语一搁下也是好多年。转眼上了初中，有一会儿特别沉迷《射雕英雄传》，我找w同学借的，几天一本几天一本的忘我地看，忘记看完第几本的时候，嘱他明天带下一本来，早上我到了班上就盯着前后门等他出现，结果他一连忘了好几天，急坏了，一想到没得看就无精打采，像抽不到福寿膏的大烟鬼.&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;     终于读到第三本，黄蓉受了裘千仞一掌时日无多、郭靖背她上山求救于段皇爷这段，一对鸳鸯游于奇山异水间，不觉紧张，只是羡慕，在如诗如画的童话世界里，携一知己，“夕死可矣”。他二人顺利过了渔、樵、耕三关后，到书生这，考文化底蕴了，黄蓉反问书生孔子有多少学生，果然难倒了他，黄蓉公布答案：“莫春者，春服既成。冠者五六人，童子六七人，浴乎沂，风乎舞雩，咏而归。”那就是五六三十，六七四十二，一共72人。我笑了起来，金庸先生也是煞费苦心，只有黄蓉这古灵精怪绝顶聪明之人才想得到，我又好奇，这么仙风道骨、弃世脱俗的一句话，怎么会在论语里？我没有手机，从没背过的地方一页一页翻过去，终于，“子路、曾皙、冉有、公西华侍坐。。。浴乎沂，风乎舞雩，咏而归。’夫子喟然叹曰：‘吾与点也！’”好似故人重逢，儿时吓倒我的怪兽和我开了个玩笑，这次我一字一句的读完，果然人人都藏着一颗浪漫侠客的心，孔老夫子亦如是。&lt;/p&gt;

&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;h1 style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; font-size: 28px; letter-spacing: 2px; line-height: 1.3;&#34;&gt;偶遇《雅舍情书》&lt;/h1&gt;
&lt;div style=&#34;font-family: &#39;FZSongKeBenXiuKaiJian&#39;; 
            font-size: 20px; 
            letter-spacing: 2px; 
            line-height: 1.8;
            color: inherit !important;
            margin-bottom: 1;&#34;&gt;
    &lt;p style=&#39;margin: 0;&#39;&gt;    逛图书馆看见梁实秋全集，想起《雅舍谈吃》，初中时爱不释手，而今去国怀乡，最强烈的还是味觉记忆，翻找之中瞟到一本竟载有“雅舍情书”，这就有点新奇了。中国人向来讲究内敛矜持，要我说是“闷骚”，七情六欲人人都有，唯独东亚文化得憋着不说。对公开发表的情书不能不好奇，加上窥私欲作祟，非看不可了。&lt;/p&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;    不愧是西方文学大家，这段感情竟开始于梁实秋将满72岁时，而恋爱的对象，韩菁清女士，也已经43岁，是不折不扣的黄昏恋了。不过更有意思的是情书的文字，我在读之前只知道韩女士已经四十多岁，心想梁实秋大概也就四五十吧。但梁实秋的文字分明就是20岁年轻人热恋时的狂热，这就是爱情的魔力吗？忍不住摘录几段：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;   你昨晚消夜恐怕是在十二时以后了吧？在什么地方？你坐在什么人的身旁？你吃了些什么东西？我本来说陪你去消夜，你不肯，因为你疼我，可是你知道么，我的心里这么痛苦！今天五时起床，头昏昏然。以后我恐怕每天都要头昏昏然吗，除非……除非……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;   昨天看你那一堆照片，我一张都没有拿（虽然其中有好多张我特别爱），实在是因为我想那些照片，以及其他，已经全部的属于我了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;   你说悬崖勒马还来得及，在时间上当然还来得及，可是在情感上是来不及了。不要说是悬崖，就是火山口，我们也只好拥抱着跳下去。你说是吗，亲亲？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;   可是介绍你载曼谷八年的那一段【感情】，图与文，对我来讲刺激性太大了，甜酸苦辣，混不可辨。今早醒来，又看了一边。亲亲，我同情你，我尊敬你。像这样的记述文字，你以后不要故意给我看，也不要故意不给我看。不给我看，我想看；给我看，我受不了。写到这里，我流下了泪。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;   手表夜里可以发光，实在是好，我特别真实它，因为你告我你曾经戴过它，我也特别羡慕它，嫉妒它，因为它曾经亲近过你的肤泽。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p style=&#39;margin: 0;&#39;&gt;    类似文字不胜枚举，几乎封封如是。我无法想象这些文字出自七旬老人之手，浓烈而真挚的感情四处洋溢，爱情真能让人返老还童，青春焕发。字里行间我看到的是一个冲动、感性、痴狂、沉醉、细腻、多愁善感、占有欲强的男子，遇到了一个同样不可救药的女子。世俗在活生生的不可阻挡的爱情面前连粪土都不如。&lt;/p&gt;

&lt;/div&gt;&lt;/p&gt;
- http://allenhsm.github.io/posts/miscellaneous_notes/%E9%9A%8F%E7%AC%94%E4%B8%A4%E5%88%99/ - This is a customized copyright.</description>
        </item>
    
    
  </channel>
</rss> 